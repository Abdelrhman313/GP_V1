@model IEnumerable<Gp_V1.Models.Job>

@{
    ViewBag.Title = "ShowMatchedJobs";
}

<h2 class="text-primary mb-3">Show Matched Jobs</h2>

<hr />

@using (Html.BeginForm("ShowMatchedJobs", "Job", FormMethod.Post, new { @class = "row mb-3" }))
{
    @Html.TextBox("searchName", null, new { @class = "col-md-10 col-8 ml-3 mr-2 form-control", placeholder = "Write Job Title.." })
    <button type="submit" class="btn btn-info col-md-1 col-3">Search</button>
}

@if (Model.Count() == 0)
{


    <div class="alert alert-danger">
        No Matched Jobs
    </div>
}
else
{
    <table class="table table-responsive table-bordered">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.JobTitle)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.JobDescription)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.JobType.JobTypeName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Vacancy)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.NeededExperience)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Salary)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.JobState)
            </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.JobTitle)
                </td>
                <td>
                    @item.JobDescription.Substring(0, 20) ....
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.JobType.JobTypeName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Vacancy)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NeededExperience)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Salary) $
                </td>
                @if (item.JobState == true)
                {
                    <td>
                        <button class="btn btn-success">Open</button>
                    </td>
                }
                else
                {

                    <td>
                        <button class="btn btn-danger">Closed</button>
                    </td>
                }
                <td>
                    @Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class = "btn btn-primary" })
                </td>
            </tr>
        }

    </table>

}

<hr />

<p>
    @Html.ActionLink("Back", "Index", "Home", null, new { @class = "btn btn-dark" })
</p>